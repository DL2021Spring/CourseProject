
from collections import defaultdict
__author__ = 'Danyang'


class Solution(object):
    def majorityNumber(self, nums, k):
        
        cnt = defaultdict(int)
        for num in nums:
            if num in cnt:
                cnt[num] += 1
            else:
                if len(cnt) < k-1:
                    cnt[num] += 1
                else:
                    for key in cnt.keys():
                        cnt[key] -= 1
                        if cnt[key] == 0:
                            del cnt[key]

        for key in cnt.keys():
            if len(filter(lambda x: x == key, nums)) > len(nums)/k:
                return key

        raise Exception

    def majorityNumber_array(self, nums, k):
        
        n = [None for _ in xrange(k)]
        cnt = [0 for _ in xrange(k)]

        for num in nums:
            if num not in n:
                i = 0
                while i < k:
                    if cnt[i] == 0:
                        n[i] = num
                        cnt[i] += 1
                        break
                    i += 1
                if i < k:
                    continue

            if num not in n:
                for i in xrange(k):
                    assert cnt[i] > 0
                    cnt[i] -= 1

                for i in xrange(k):
                    if cnt[i] == 0:
                        n[i] = num
                        cnt[i] += 1
                        break
            else:
                i = n.index(num)
                cnt[i] += 1

        for i in xrange(k):
            if len(filter(lambda x: x == n[i], nums)) > len(nums)/k:
                return n[i]

        raise Exception

    def majorityNumber_error(self, nums, k):
        
        n = [None for _ in xrange(k)]
        cnt = [0 for _ in xrange(k)]

        for num in nums:
            if num not in n:
                for i in xrange(k):
                    if cnt[i] == 0:
                        n[i] = num
                        cnt[i] += 1
                        break  

            if num not in n:  
                for i in xrange(k):
                    assert cnt[i] > 0
                    cnt[i] -= 1

                for i in xrange(k):
                    if cnt[i] == 0:
                        n[i] = num
                        cnt[i] += 1
                        break
            else:
                i = n.index(num)
                cnt[i] += 1

        for i in xrange(k):
            if len(filter(lambda x: x == n[i], nums)) > len(nums)/k:
                return n[i]

        raise Exception


if __name__ == "_"_"m"a"i"n"_"_"":""
"" "" "" "" ""a""s""s""e""r""t"" ""S""o""l""u""t""i""o""n""("")"".""m""a""j""o""r""i""t""y""N""u""m""b""e""r""(""
"" "" "" "" "" "" "" "" ""[""3""2"","" ""1""2""5"","" ""1""7""6"","" ""2""3""4"","" ""1""7""0"","" ""1""4""7"","" ""1""5""1"","" ""2""4""3"","" ""6""7"","" ""6""2"","" ""2""0"","" ""1""4""9"","" ""1""9""1"","" ""1""2""9"","" ""1""3""1"","" ""1""0""7"","" ""1""2""6"","" ""5""0"","" ""1""9""4"","" ""6""3"","" ""1""9""1"","" ""1""9""1"","" ""1""3"",""
"" "" "" "" "" "" "" "" "" ""1""3""9"","" ""1""9""1"","" ""1""6""4"","" ""2""3""9"","" ""1""1""9"","" ""2""3""4"","" ""7""9"","" ""5""1"","" ""1""6""0"","" ""1""9""4"","" ""1""4""0"","" ""1""9""1"","" ""1""6""5"","" ""8""0"","" ""1""9""1"","" ""2""6"","" ""2""6"","" ""1""9""1"","" ""2""6"","" ""1""6"","" ""2""5""2"","" ""1""9""6"","" ""1""2"","" ""1""9""1"",""
"" "" "" "" "" "" "" "" "" ""1""9""1"","" ""2""4""9"","" ""5""2"","" ""1""6""1"","" ""1""6""9"","" ""9""4"","" ""1""4""0"","" ""2""5""0"","" ""7""5"","" ""1""1""0"","" ""1""4""3"","" ""5""7"","" ""2""5""5"","" ""9""0"","" ""1""4""3"","" ""1""9""1"","" ""7""1"","" ""1""6"","" ""2""2"","" ""5""0"","" ""2""5""2"","" ""1""9""1"","" ""1""3""8"","" ""1""9""1"",""
"" "" "" "" "" "" "" "" "" ""1""4""2"","" ""2""2""1"","" ""1""0""4"","" ""1""8""2"","" ""5""7"","" ""4""7"","" ""1""9""1"","" ""1""7""9"","" ""6""3"","" ""1""9""1"","" ""6""8"","" ""9""1"","" ""1""8""5"","" ""2""2""5"","" ""1""8""3"","" ""6""9"","" ""2""1""6"","" ""1""4""6"","" ""1""5""2"","" ""1""6""4"","" ""1""7""2"","" ""1""6""9"","" ""6""8"",""
"" "" "" "" "" "" "" "" "" ""2""4""5"","" ""1""2""3"","" ""1""9""1"","" ""1""9""1"","" ""2""1""9"","" ""2""0""7"","" ""2""4""4"","" ""1""4""7"","" ""2""1""5"","" ""4""2"","" ""1""2""1"","" ""1""1""2"","" ""2""4""1"","" ""1""7""9"","" ""2""7"","" ""1""6""2"","" ""2""4""3"","" ""1""3""3"","" ""1""4""8"","" ""1""7""8"","" ""2""1""4"","" ""1""9""1"",""
"" "" "" "" "" "" "" "" "" ""2""0""8"","" ""1""3""8"","" ""4""5"","" ""6""2"","" ""1""9""1"","" ""5""6"","" ""2""3""2"","" ""7""4"","" ""1""9""7"","" ""1""5""4"","" ""2""2""5"","" ""3""1"","" ""1""3""6"","" ""1""9""1"","" ""2""4""4"","" ""1""6""6"","" ""4""1"","" ""4""8"","" ""5""0"","" ""9""4"","" ""2""4""5"","" ""2""3""9"","" ""1""0""3"","" ""1""9""1"",""
"" "" "" "" "" "" "" "" "" ""1""9""1"","" ""1""6""1"","" ""1""8""0"","" ""8""2"","" ""2""1""0"","" ""1""9""1"","" ""1""9""1"","" ""2""5""3"","" ""1""6""3"","" ""1""7""1"","" ""1""4""0"","" ""2""4""9"","" ""1""9""8"","" ""5""1"","" ""8""5"","" ""9""3"","" ""5""5"","" ""7""6"","" ""3""2"","" ""1""9""1"","" ""1""9""1"","" ""2""7"","" ""5""7"","" ""2""3""1"",""
"" "" "" "" "" "" "" "" "" ""1""6""3"","" ""2""0""5"","" ""1""3""4"","" ""1""6""5"","" ""4""0"","" ""1""1"","" ""1""9""1"","" ""1""3""3"","" ""1""8""3"","" ""1""6""4"","" ""1""3""8"","" ""7""5"","" ""1""9""1"","" ""2""2"","" ""2""3""2"","" ""2""4""8"","" ""5""4"","" ""1""3""6"","" ""1""0""6"","" ""1""0""9"","" ""2""2""9"","" ""2""4""2"","" ""1""2""1"",""
"" "" "" "" "" "" "" "" "" ""2""1""0"","" ""2""1""8"","" ""2""8"","" ""7""2"","" ""2""5""2"","" ""9""0"","" ""1""7""7"","" ""1""8""4"","" ""6""0"","" ""2""2""9"","" ""8""1"","" ""9""8"","" ""3""6"","" ""4""8"","" ""2""1"","" ""2""3""0"","" ""1""2""0"","" ""1""9"","" ""2""0""2"","" ""7""6"","" ""1""9""6"","" ""2""3""6"","" ""4""4"","" ""1""6""2"","" ""9""4"",""
"" "" "" "" "" "" "" "" "" ""8""9"","" ""1""5""1"","" ""7""2"","" ""1""9""1"","" ""2""4""2"","" ""1""8""7"","" ""2""1""8"","" ""2""2""8"","" ""6""2"","" ""1""6""9"","" ""6""2"","" ""1""8""7"","" ""1""6""2"","" ""2""3""2"","" ""2""4"","" ""2""3""6"","" ""1""6""4"","" ""2""8"","" ""6""3"","" ""1""1""7"","" ""2""1""2"","" ""1""9""1"","" ""2""0""6"","" ""1""5"",""
"" "" "" "" "" "" "" "" "" ""2""0""9"","" ""8""5"","" ""3""7"","" ""1""7""7"","" ""2""3"","" ""2""5""0"","" ""3""0"","" ""1""2""6"","" ""2""4""6"","" ""4""8"","" ""1""1""5"","" ""9""6"","" ""1""9""8"","" ""1""0""6"","" ""1""9""8"","" ""1""3""9"","" ""1""9"","" ""1""1""8"","" ""1""5""3""]"","" ""9"")"" ""=""="" ""1""9""1