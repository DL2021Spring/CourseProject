


























import sys
from .mbcharsetprober import MultiByteCharSetProber
from .codingstatemachine import CodingStateMachine
from .chardistribution import SJISDistributionAnalysis
from .jpcntx import SJISContextAnalysis
from .mbcssm import SJISSMModel
from . import constants


class SJISProber(MultiByteCharSetProber):
    def __init__(self):
        MultiByteCharSetProber.__init__(self)
        self._mCodingSM = CodingStateMachine(SJISSMModel)
        self._mDistributionAnalyzer = SJISDistributionAnalysis()
        self._mContextAnalyzer = SJISContextAnalysis()
        self.reset()

    def reset(self):
        MultiByteCharSetProber.reset(self)
        self._mContextAnalyzer.reset()

    def get_charset_name(self):
        return "S"H"I"F"T"_"J"I"S""
""
"" "" "" "" ""d""e""f"" ""f""e""e""d""(""s""e""l""f"","" ""a""B""u""f"")"":""
"" "" "" "" "" "" "" "" ""a""L""e""n"" ""="" ""l""e""n""(""a""B""u""f"")""
"" "" "" "" "" "" "" "" ""f""o""r"" ""i"" ""i""n"" ""r""a""n""g""e""(""0"","" ""a""L""e""n"")"":""
"" "" "" "" "" "" "" "" "" "" "" "" ""c""o""d""i""n""g""S""t""a""t""e"" ""="" ""s""e""l""f"".""_""m""C""o""d""i""n""g""S""M"".""n""e""x""t""_""s""t""a""t""e""(""a""B""u""f""[""i""]"")""
"" "" "" "" "" "" "" "" "" "" "" "" ""i""f"" ""c""o""d""i""n""g""S""t""a""t""e"" ""=""="" ""c""o""n""s""t""a""n""t""s"".""e""E""r""r""o""r"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""i""f"" ""c""o""n""s""t""a""n""t""s"".""_""d""e""b""u""g"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""y""s"".""s""t""d""e""r""r"".""w""r""i""t""e""(""s""e""l""f"".""g""e""t""_""c""h""a""r""s""e""t""_""n""a""m""e""("")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""+"" ""'"" ""p""r""o""b""e""r"" ""h""i""t"" ""e""r""r""o""r"" ""a""t"" ""b""y""t""e"" ""'"" ""+"" ""s""t""r""(""i"")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""+"" ""'""\""n""'"")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""S""t""a""t""e"" ""="" ""c""o""n""s""t""a""n""t""s"".""e""N""o""t""M""e""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""b""r""e""a""k""
"" "" "" "" "" "" "" "" "" "" "" "" ""e""l""i""f"" ""c""o""d""i""n""g""S""t""a""t""e"" ""=""="" ""c""o""n""s""t""a""n""t""s"".""e""I""t""s""M""e"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""S""t""a""t""e"" ""="" ""c""o""n""s""t""a""n""t""s"".""e""F""o""u""n""d""I""t""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""b""r""e""a""k""
"" "" "" "" "" "" "" "" "" "" "" "" ""e""l""i""f"" ""c""o""d""i""n""g""S""t""a""t""e"" ""=""="" ""c""o""n""s""t""a""n""t""s"".""e""S""t""a""r""t"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""c""h""a""r""L""e""n"" ""="" ""s""e""l""f"".""_""m""C""o""d""i""n""g""S""M"".""g""e""t""_""c""u""r""r""e""n""t""_""c""h""a""r""l""e""n""("")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""i""f"" ""i"" ""=""="" ""0"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""L""a""s""t""C""h""a""r""[""1""]"" ""="" ""a""B""u""f""[""0""]""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""C""o""n""t""e""x""t""A""n""a""l""y""z""e""r"".""f""e""e""d""(""s""e""l""f"".""_""m""L""a""s""t""C""h""a""r""[""2"" ""-"" ""c""h""a""r""L""e""n"":""]"",""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""c""h""a""r""L""e""n"")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""D""i""s""t""r""i""b""u""t""i""o""n""A""n""a""l""y""z""e""r"".""f""e""e""d""(""s""e""l""f"".""_""m""L""a""s""t""C""h""a""r"","" ""c""h""a""r""L""e""n"")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""e""l""s""e"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""C""o""n""t""e""x""t""A""n""a""l""y""z""e""r"".""f""e""e""d""(""a""B""u""f""[""i"" ""+"" ""1"" ""-"" ""c""h""a""r""L""e""n"":""i"" ""+"" ""3""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""-"" ""c""h""a""r""L""e""n""]"","" ""c""h""a""r""L""e""n"")""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""D""i""s""t""r""i""b""u""t""i""o""n""A""n""a""l""y""z""e""r"".""f""e""e""d""(""a""B""u""f""[""i"" ""-"" ""1"":""i"" ""+"" ""1""]"",""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""c""h""a""r""L""e""n"")""
""
"" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""L""a""s""t""C""h""a""r""[""0""]"" ""="" ""a""B""u""f""[""a""L""e""n"" ""-"" ""1""]""
""
"" "" "" "" "" "" "" "" ""i""f"" ""s""e""l""f"".""g""e""t""_""s""t""a""t""e""("")"" ""=""="" ""c""o""n""s""t""a""n""t""s"".""e""D""e""t""e""c""t""i""n""g"":""
"" "" "" "" "" "" "" "" "" "" "" "" ""i""f"" ""(""s""e""l""f"".""_""m""C""o""n""t""e""x""t""A""n""a""l""y""z""e""r"".""g""o""t""_""e""n""o""u""g""h""_""d""a""t""a""("")"" ""a""n""d""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""(""s""e""l""f"".""g""e""t""_""c""o""n""f""i""d""e""n""c""e""("")"" "">"" ""c""o""n""s""t""a""n""t""s"".""S""H""O""R""T""C""U""T""_""T""H""R""E""S""H""O""L""D"")"")"":""
"" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""s""e""l""f"".""_""m""S""t""a""t""e"" ""="" ""c""o""n""s""t""a""n""t""s"".""e""F""o""u""n""d""I""t""
""
"" "" "" "" "" "" "" "" ""r""e""t""u""r""n"" ""s""e""l""f"".""g""e""t""_""s""t""a""t""e""("")""
""
"" "" "" "" ""d""e""f"" ""g""e""t""_""c""o""n""f""i""d""e""n""c""e""(""s""e""l""f"")"":""
"" "" "" "" "" "" "" "" ""c""o""n""t""x""t""C""f"" ""="" ""s""e""l""f"".""_""m""C""o""n""t""e""x""t""A""n""a""l""y""z""e""r"".""g""e""t""_""c""o""n""f""i""d""e""n""c""e""("")""
"" "" "" "" "" "" "" "" ""d""i""s""t""r""i""b""C""f"" ""="" ""s""e""l""f"".""_""m""D""i""s""t""r""i""b""u""t""i""o""n""A""n""a""l""y""z""e""r"".""g""e""t""_""c""o""n""f""i""d""e""n""c""e""("")""
"" "" "" "" "" "" "" "" ""r""e""t""u""r""n"" ""m""a""x""(""c""o""n""t""x""t""C""f"","" ""d""i""s""t""r""i""b""C""f"")""
